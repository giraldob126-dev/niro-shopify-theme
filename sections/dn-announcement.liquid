<section class="dn-announcement" role="region" aria-label="{{ section.settings.aria_label }}">
  <div class="dn-announcement__inner">
    <p class="dn-announcement__text">{{ section.settings.text }}</p>
    {% if section.settings.link != blank %}
      <a class="dn-announcement__link" href="{{ section.settings.link }}">{{ section.settings.link_label }}</a>
    {% endif %}
  </div>
</section>

<style>
  .dn-announcement {
    background: {{ section.settings.background }};
    color: {{ section.settings.text_color }};
    font-size: 0.85rem;
  }
  .dn-announcement__inner {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0.5rem 1rem;
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 0.75rem;
    text-align: center;
  }
  .dn-announcement__link {
    color: inherit;
    text-decoration: underline;
    font-weight: 600;
  }
  .dn-announcement__link:focus-visible {
    outline: 2px solid currentColor;
    outline-offset: 2px;
  }
</style>

<script>
  (() => {
    const section = document.currentScript?.closest('section');
    if (!section) return;
  })();
</script>

{% schema %}
{
  "name": "DN Announcement",
  "settings": [
    {
      "type": "text",
      "id": "text",
      "label": "Texto",
      "default": "Envío gratis en Colombia por compras superiores a $199.000 COP"
    },
    {
      "type": "text",
      "id": "link_label",
      "label": "Etiqueta del enlace",
      "default": "Ver más"
    },
    {
      "type": "url",
      "id": "link",
      "label": "Enlace"
    },
    {
      "type": "color",
      "id": "background",
      "label": "Color de fondo",
      "default": "#111111"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Color de texto",
      "default": "#ffffff"
    },
    {
      "type": "text",
      "id": "aria_label",
      "label": "Etiqueta ARIA",
      "default": "Anuncio"
    }
  ],
  "presets": [
    {
      "name": "DN Announcement"
    }
  ]
}
{% endschema %}
